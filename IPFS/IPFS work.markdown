# How IPFS works


IPFS 是一个p2p的存储网络.信息能够被附近的其他节点获取,可以通过世界任何地方的对等节点访问。这些对等点可能会中继信息、存储信息或同时执行这两种操作。IPFS知道如何使用内容寻址而不是位置来找到你请求的内容。

理解IPFS有三个基本原则:
+ 通过内容寻址的唯一表示
+ 通过有向无环图进行内容链接
+ 通过分布式哈希表(DHT)进行内容发现


这三个原则互相一寸，以实现IPFS生态系统。


## 内容寻址

IPFS获取内容的方式是通过内容中包含的所有信息而不是这个内容他在哪里。其实对于本身来说，按照内容寻找才是我们一直想要的过程。使用IPFS协议的每一段内容都有一个内容标识符或者称为CID，就是他内容对应的哈希值。哈希对于他的内容来说是唯一的，也就是一对一的关系，即使与原始内容相比他可能看起来很短，但是在确保密码学算法的安全情况下，唯一内容对应一个唯一CID。

许多分布式系统使用通过哈希进行内容寻址作为一种手段，不仅可以识别内容，还可以将它们链接在一起---从支持代码的提交到运行机密货币的区块链，一切都利用了这种策略。然而，这些系统中的底层数据结构不一定是可互操作的。


这就是IPLD项目的用处所在，IPLD在哈希链接数据结构之间进行转换，从而允许跨分布式系统统一数据。IPLD提供了用于组合可插入模块(每种可能类型的IPLD节点的解析器)的库,以解析路径，选择器或跨多个链接节点的查询，使得不管底层协议如何都能探索数据。**IPLD提供了一种在内容可寻址数据结构之间进行转换的方法。**


## 有向无环图


IPFS和许多其他分布式系统利用称为有向无环图的数据结构，具体来说，它们使用merkle  DAG,其中每个节点都有一个唯一标识符,该标识符是节点内容的哈希值。

IPFS使用为表示目录和文件而优化的Merle DAG,但你可以使用多种不同的方式构建merkle dag.

为了构建您的内容的 Merkle DAG 表示，IPFS 通常首先将其拆分为块。将其拆分为多个块意味着文件的不同部分可以来自不同的来源并可以快速进行身份验证。 （如果您曾经使用过 BitTorrent，您可能已经注意到，当您下载一个文件时，BitTorrent 可以同时从多个对等点获取它；这是相同的想法。）