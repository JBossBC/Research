# FD

文件描述符:linux系统中，把一切都看作是文件，当进程打开现有文件或创建新文件时，内核向进程返回一个文件描述符，文件描述符就是**内核为了高效管理已被打开的文件所创建的索引，用来指向被打开的文件,所有执行IO操作的系统调用都会通过文件描述符**

## 文件描述符、文件、进程间的关系

+ 每个文件描述符都会与一个打开的文件相对应
+ 不同的文件描述符也可能指向同一个文件
+ 相同的文件可以被不同的进程打开，也可以在同一个进程被多次打开


## 文件描述符的使用

+ 一个进程能够同时打开多个文件，对应需要多个文件描述符，所以需要用一个文件描述符表对文件描述符进行管理;通常默认大小为1024，也即能容纳1024个文件描述符
+ 文件描述符中0、1、2三个位置对应的文件描述符固定不变，标准输入、标准输出、标准错误
+ 当打开一个文件时，内核会自动在文件描述符表中寻找一个空闲且最小的文件描述符
+ 同一个文件可以被多次打开，但是每打开一次都需要一个新的文件描述符
+ 已经被占用的文件描述符在被释放后，可以重新被占用。